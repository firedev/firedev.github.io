<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тест IFS</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
	
img { display: block; max-width: 640px }

        .question {
            margin-bottom: 15px;
        }

        .result {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #ccc;
        }

        button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049;
        }

        .form-radio {
            margin-bottom: 0.5rem;
        }

        .form-radio input[type="radio"] {
            position: absolute;
            left: -9999px;
        }

        .form-radio label {
            display: inline-block;
            padding: 0.375rem 0.75rem;
            border-radius: 0.25rem;
            cursor: pointer;
            background: white;
            color: #007bff;
            opacity: 0.65;
            margin-right: 5px;
        }

        .form-radio input[type="radio"]:checked+label {
            background-color: #007bff;
            color: white;
            opacity: 1;
        }
    </style>
</head>

<body>
    <h1>Тест: Роли в вашей Внутренней Семье (IFS)</h1>
    <p>Этот тест основан на модели IFS (Internal Family Systems), которая рассматривает психику как систему внутренних
        "частей". Ответьте на вопросы, чтобы узнать, какие роли — Менеджеры, Пожарные, Изгнанники или ваше "Я" —
        наиболее активны в вашей жизни.</p>
	<img src="ifs.jpg" />
    <form id="ifsTest" class="form-radio"></form>


    <script>
        const categories = [
            {
                title: "Менеджеры", questions: [
                    "Я стараюсь всё спланировать заранее, чтобы избежать неожиданностей.",
                    "Мне важно, чтобы другие видели меня сильным и компетентным.",
                    "Я склонен критиковать себя, чтобы стать лучше или избежать ошибок.",
                    "Я чувствую тревогу, если что-то идёт не по плану."
                ]
            },
            {
                title: "Пожарные", questions: [
                    "Когда я чувствую стресс, я могу переедать, пить или отвлекаться.",
                    "Я действую импульсивно, чтобы заглушить эмоции.",
                    "Мне сложно усидеть на месте, когда я расстроен.",
                    "После сильных эмоций я могу чувствовать стыд за свои поступки."
                ]
            },
            {
                title: "Изгнанники", questions: [
                    "У меня есть воспоминания, которые я стараюсь не трогать.",
                    "Иногда я чувствую себя беспомощным без причины.",
                    "Я боюсь, что эмоции меня захлестнут.",
                    "Мне кажется, что часть меня прячет печаль или страх."
                ]
            },
            {
                title: "Я (Self)", questions: [
                    "Я могу оставаться спокойным даже в сложных ситуациях.",
                    "Мне легко смотреть на свои чувства с интересом.",
                    "Я часто чувствую сострадание к себе и другим.",
                    "У меня есть ощущение внутренней ясности и уверенности."
                ]
            }
        ];

        const responses = {
            "Менеджеры": [
                "Ваши Менеджеры почти не вмешиваются. Вы редко чувствуете потребность держать всё под контролем, наслаждаясь свободой и естественным течением событий.",
                "Менеджеры проявляются умеренно. Время от времени вы стремитесь упорядочить свою жизнь, но это не становится вашей главной чертой.",
                "Менеджеры работают активно. Они помогают вам чувствовать себя защищённым через контроль и планирование, хотя иногда это может мешать расслабиться.",
                "Менеджеры полностью берут верх. Вы склонны контролировать всё вокруг, что даёт вам уверенность, но может утомлять или ограничивать вашу спонтанность."
            ],
            "Пожарные": [
                "Пожарные у вас почти не включаются. Вы редко прибегаете к импульсивным решениям, чтобы заглушить стресс или эмоции.",
                "Пожарные действуют время от времени. Иногда вы отвлекаетесь или ищете быстрый выход из напряжения, но это не ваш основной подход.",
                "Пожарные заметно активны. В сложных ситуациях вы часто ищете моментальное облегчение, будь то еда, развлечения или другие способы отвлечься.",
                "Пожарные работают на полную. Они постоянно вмешиваются, гася эмоциональные вспышки импульсивными действиями, что может быть вашим способом справляться с трудностями."
            ],
            "Изгнанники": [
                "Изгнанники почти незаметны. Похоже, у вас мало скрытых ран или подавленных чувств, либо они надёжно спрятаны внутри.",
                "Изгнанники иногда проглядывают. Вы можете ощущать лёгкие отголоски старых эмоций или уязвимостей, которые стоит мягко рассмотреть.",
                "Изгнанники играют заметную роль. Внутри вас есть скрытая боль, страх или грусть, которые время от времени дают о себе знать и просят внимания.",
                "Изгнанники сильно влияют на вас. Глубоко внутри скрывается множество непрожитых эмоций — уязвимость, травмы или страхи, которые требуют исцеления."
            ],
            "Я (Self)": [
                "Ваше 'Я' пока редко выходит на первый план. Спокойствие, ясность и уверенность приходят к вам нечасто, уступая место другим частям.",
                "Ваше 'Я' постепенно проявляется. Вы начинаете замечать моменты внутренней гармонии, но они пока нестабильны и легко теряются.",
                "Ваше 'Я' уверенно присутствует. Вы часто чувствуете себя уравновешенным, способным смотреть на мир и себя с интересом и теплом.",
                "Ваше 'Я' сияет ярко. Вы живёте в гармонии с собой, излучая спокойствие, любопытство и глубокое сострадание к себе и окружающим."
            ]
        };

        const labels = ['', 'Никогда', 'Редко', 'Средне', 'Часто', 'Всегда'];

        const form = document.getElementById('ifsTest');
        let questionIndex = 1;

        categories.forEach(category => {
            form.innerHTML += `<h2>${category.title}</h2>`;
            category.questions.forEach(question => {
                form.innerHTML += `
                    <div class="question">
                        ${questionIndex}. ${question}<br>
                        ${[1, 2, 3, 4, 5].map(val => `
                            <input type="radio" id="q${questionIndex}-${val}" name="q${questionIndex}" value="${val}">
                            <label for="q${questionIndex}-${val}">${labels[val]}</label>
                        `).join('')}
                    </div>`;
                questionIndex++;
            });
        });

        form.innerHTML += '<div id="results" class="result" style="display: none;"></div>';

        form.innerHTML += '<button type="button" onclick="calculateResults()">Узнать результаты</button>';

        function calculateResults() {
            const maxScore = 20;
            const ranges = [
                { min: 4, max: 8, index: 0 },
                { min: 9, max: 12, index: 1 },
                { min: 13, max: 16, index: 2 },
                { min: 17, max: 20, index: 3 }
            ];

            const scores = {};
            let qIndex = 1;
            categories.forEach(category => {
                scores[category.title] = 0;
                category.questions.forEach(() => {
                    const value = form.querySelector(`input[name="q${qIndex}"]:checked`);
                    scores[category.title] += value ? parseInt(value.value) : 0;
                    qIndex++;
                });
            });

            if (Object.values(scores).some(score => score === 0)) {
                alert("Пожалуйста, ответьте на все вопросы!");
                return;
            }

            const descriptions = {
                "Менеджеры": "Менеджеры — это части, которые планируют и контролируют, защищая вас от уязвимости.",
                "Пожарные": "Пожарные гасят эмоциональный 'пожар' через импульсивные действия, чтобы снять стресс.",
                "Изгнанники": "Изгнанники несут подавленные эмоции — боль, страх или стыд, которые скрыты.",
                "Я (Self)": "Ваше 'Я' — это центр гармонии, проявляющий спокойствие, любопытство и сострадание."
            };

            let result = '<h2>Ваши результаты:</h2>';
            for (const [category, score] of Object.entries(scores)) {
                const range = ranges.find(r => score >= r.min && score <= r.max);
                result += `
        <p><strong>${category}:</strong> ${score}/${maxScore}</p>
        <p>${descriptions[category]}</p>
        <p>${responses[category][range.index]}</p>
    `;
            }

            // Формирование вывода
            let conclusion = '<p><strong>Вывод:</strong> ';
            if (scores["Я (Self)"] >= 17 && scores["Изгнанники"] <= 8) {
                conclusion += 'Ваша внутренняя система находится в отличном балансе. Ваше "Я" уверенно ведёт вас, а подавленные эмоции почти не мешают.';
            } else if (scores["Я (Self)"] >= 13 && scores["Изгнанники"] <= 12) {
                conclusion += 'Ваша внутренняя система хорошо сбалансирована. Вы часто действуете из состояния гармонии, хотя иногда скрытые чувства могут напоминать о себе.';
            } else {
                conclusion += 'В вашей внутренней системе есть заметные акценты. Некоторые части — возможно, Менеджеры, Пожарные или Изгнанники — играют более яркую роль, чем ваше "Я".';
            }

            if (scores["Менеджеры"] >= 17) {
                conclusion += ' Ваши Менеджеры — ключевая сила, они держат всё под контролем.';
            }
            if (scores["Я (Self)"] >= 17) {
                conclusion += ' Ваше "Я" — мощный ресурс, который поддерживает вас в равновесии и ясности.';
            }
            conclusion += '</p>';

            result += conclusion;

            document.getElementById('results').innerHTML = result;
            document.getElementById('results').style.display = 'block';
        }
    </script>
</body>

</html>
